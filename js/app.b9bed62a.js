(function(e){function t(t){for(var s,n,i=t[0],r=t[1],l=t[2],p=0,b=[];p<i.length;p++)n=i[p],Object.prototype.hasOwnProperty.call(c,n)&&c[n]&&b.push(c[n][0]),c[n]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s]);d&&d(t);while(b.length)b.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],s=!0,i=1;i<a.length;i++){var r=a[i];0!==c[r]&&(s=!1)}s&&(o.splice(t--,1),e=n(n.s=a[0]))}return e}var s={},c={app:0},o=[];function n(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=s,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="https://patrickelectric.work/MGroundStation/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],r=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var d=r;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"64be":function(e,t,a){"use strict";a("c894")},"6ced":function(e,t,a){},"7a42":function(e,t,a){},a440:function(e,t,a){"use strict";a("6ced")},c894:function(e,t,a){},cd49:function(e,t,a){"use strict";a.r(t);var s=a("7a23");const c={"data-role":"navview","data-toggle":"#paneToggle","data-expand":"xl","data-compact":"lg","data-active-state":"true"},o={class:"navview-pane"},n=Object(s["createStaticVNode"])('<div class="navview-container"><div class="bg-cyan d-flex flex-align-center"><button class="pull-button m-0 bg-darkCyan-hover"><span class="mif-menu fg-white"></span></button><h4 class="text-light m-0 fg-white text-bold" style="line-height:52px;"> MGroundstation </h4></div></div>',1),i={class:"navview-menu-container",style:{height:"calc(100% - 123px)"}},r={id:"side-menu",class:"navview-menu"},l=Object(s["createVNode"])("li",{class:"item-header"}," MAIN NAVIGATION ",-1),d={class:"active"},p=Object(s["createVNode"])("span",{class:"icon"},[Object(s["createVNode"])("span",{class:"mif-meter"})],-1),b=Object(s["createVNode"])("span",{class:"caption"},"Dashboard",-1),h=Object(s["createVNode"])("span",{class:"icon"},[Object(s["createVNode"])("span",{class:"mif-table"})],-1),u=Object(s["createVNode"])("span",{class:"caption"},"Parameters",-1),v=Object(s["createVNode"])("span",{class:"icon"},[Object(s["createVNode"])("span",{class:"mif-gamepad"})],-1),j=Object(s["createVNode"])("span",{class:"caption"},"Joystick",-1),f=Object(s["createStaticVNode"])('<li><a href="#" class="dropdown-toggle"><span class="icon"><span class="mif-table"></span></span><span class="caption">Category</span></a><ul class="navview-menu stay-open" data-role="dropdown"><li><a href="#table-classes"><span class="icon"><span class="mif-spinner2"></span></span><span class="caption">Sub category 1</span></a></li><li><a href="#table-component"><span class="icon"><span class="mif-spinner2"></span></span><span class="caption">Sub category 2</span></a></li></ul></li><li class="item-header"> Documentation </li><li><a href="https://google.com" data-ytta-id="-"><span class="icon"><span class="mif-books fg-red"></span></span><span class="caption">Documentation</span></a></li><li><a href="https://google.com" data-ytta-id="-"><span class="icon"><span class="mif-info"></span></span><span class="caption">About</span></a></li>',4),m=Object(s["createVNode"])("div",{class:"w-100 text-center text-small data-box p-2 border-top bd-grayMouse",style:{position:"absolute",bottom:"0"}},[Object(s["createVNode"])("div",null,[Object(s["createTextVNode"])(" © 2020 "),Object(s["createVNode"])("a",{href:"mailto:patrick",class:"text-muted fg-white-hover no-decor","data-ytta-id":"-"},"Patrick José Pereira")]),Object(s["createVNode"])("div",null,[Object(s["createTextVNode"])(" Based on Pandora by: © 2019 "),Object(s["createVNode"])("a",{class:"text-muted fg-white-hover no-decor"},"Sergey Pimenov")]),Object(s["createVNode"])("div",null,[Object(s["createTextVNode"])(" Created with "),Object(s["createVNode"])("a",{href:"https://metroui.org.ua",class:"text-muted fg-white-hover no-decor","data-ytta-id":"-"},"Metro 4")])],-1),O={id:"app-header",class:"navview-content h-100"},g={id:"content-wrapper",class:"content-inner h-100",style:{"overflow-y":"auto"}},y={class:"fill"},k={class:"fill"},N={class:"fill"};function V(e,t,a,V,w,x){const S=Object(s["resolveComponent"])("NavBar"),B=Object(s["resolveComponent"])("DashBoard"),C=Object(s["resolveComponent"])("Parameters"),U=Object(s["resolveComponent"])("Joystick");return Object(s["openBlock"])(),Object(s["createBlock"])("div",c,[Object(s["createVNode"])("div",o,[n,Object(s["createVNode"])("div",i,[Object(s["createVNode"])("ul",r,[l,Object(s["createVNode"])("li",d,[Object(s["createVNode"])("a",{href:"#dashboard","data-ytta-id":"-",onClick:t[1]||(t[1]=t=>e.setPage("DashBoard"))},[p,b])]),Object(s["createVNode"])("li",null,[Object(s["createVNode"])("a",{href:"#parameters","data-ytta-id":"-",onClick:t[2]||(t[2]=t=>e.setPage("Parameters"))},[h,u])]),Object(s["createVNode"])("li",null,[Object(s["createVNode"])("a",{href:"#joystick","data-ytta-id":"-",onClick:t[3]||(t[3]=t=>e.setPage("Joystick"))},[v,j])]),f])]),m]),Object(s["createVNode"])("div",O,[Object(s["createVNode"])(S),Object(s["createVNode"])("div",g,[Object(s["withDirectives"])(Object(s["createVNode"])("div",y,[Object(s["createVNode"])(B)],512),[[s["vShow"],"DashBoard"==e.page]]),Object(s["withDirectives"])(Object(s["createVNode"])("div",k,[Object(s["createVNode"])(C)],512),[[s["vShow"],"Parameters"==e.page]]),Object(s["withDirectives"])(Object(s["createVNode"])("div",N,[Object(s["createVNode"])(U)],512),[[s["vShow"],"Joystick"==e.page]])])])])}a("a52a"),a("aa8c"),a("fa7e");const w=Object(s["withScopeId"])("data-v-ee2cc58c");Object(s["pushScopeId"])("data-v-ee2cc58c");const x={"data-role":"appbar",class:"pos-absolute bg-darkCyan fg-white"},S={class:"app-bar-container ml-auto"},B={key:0},C=Object(s["createVNode"])("a",{href:"#",class:"app-bar-item"},[Object(s["createVNode"])("span",{class:"mif-flag"}),Object(s["createVNode"])("span",{class:"badge bg-red fg-white mt-2 mr-1"},"9")],-1),U={class:"app-bar-container"},P=Object(s["createVNode"])("a",{href:"#",class:"app-bar-item"},[Object(s["createVNode"])("span",{class:"mif-cogs"})],-1),J={class:"user-block shadow-1","data-role":"collapse","data-collapsed":"true"},L={class:"bg-white d-flex flex-justify-between flex-equal-items p-2 bg-light"};Object(s["popScopeId"])();const _=w((function(e,t,a,c,o,n){return Object(s["openBlock"])(),Object(s["createBlock"])("div",x,[Object(s["createVNode"])("div",S,[0!=Object.keys(e.heartbeat).length?(Object(s["openBlock"])(),Object(s["createBlock"])("div",B," Vehicle: "+Object(s["toDisplayString"])(e.heartbeat.mavtype.type.substring(9))+" - "+Object(s["toDisplayString"])(e.valid?"ONLINE":"OFFLINE"),1)):Object(s["createCommentVNode"])("",!0),C,Object(s["createVNode"])("div",U,[P,Object(s["createVNode"])("div",J,[Object(s["createVNode"])("div",L,[Object(s["withDirectives"])(Object(s["createVNode"])("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.baseUrl=t)},null,512),[[s["vModelText"],e.baseUrl]]),Object(s["createVNode"])("button",{class:"button mr-1",onClick:t[2]||(t[2]=t=>e.setBaseUrl(this.baseUrl))}," Set ")])])])])])}));class I{constructor(e){this.callback=e=>{console.log("Listener not assigned a callback")},this.frequency=1,this.interval=-1,this.parent=e,this.setFrequency(1)}setCallback(e){return this.callback=e,this}setFrequency(e){return clearInterval(this.interval),this.interval=window.setInterval(()=>{null!==this.parent.latestData&&this.callback(this.parent.latestData)},1e3/e),this}discard(){clearInterval(this.interval),this.parent.removeListener(this)}}class A{constructor(e){this.listeners=[],this.latestData=null,this.socket=this.createSocket(e)}updateUrl(e){this.socket.close(),this.socket=this.createSocket(e)}createSocket(e){const t=new WebSocket(e);return t.onmessage=e=>{this.latestData=JSON.parse(e.data)},t}addListener(){const e=new I(this);return this.listeners.push(e),e}removeListener(e){this.listeners=this.listeners.filter(t=>t!==e)}}class D{constructor(){this.endpoints={},this.baseUrl=`${this.getWebsocketPrefix()}://${window.location.host}/ws/mavlink`,this.baseUrlCandidates=[this.baseUrl,"ws://localhost:8088/ws/mavlink"],this.probeBaseUrlCandidates()}static getInstance(){return D.instance||(D.instance=new D),D.instance}probeBaseUrlCandidates(){for(const e of this.baseUrlCandidates){const t=e.replace("wss://","https://").replace("ws://","http://").replace("/ws/mavlink","");fetch(t).then(async t=>{if(200===t.status){const a=await t.text(),s=-1!==a.indexOf("List of available paths");s&&this.setBaseUrl(e)}})}}setBaseUrl(e){for(const[t,a]of Object.entries(this.endpoints))a.updateUrl(`${e}?filter=${t}`)}startListening(e){let t=this.endpoints[e]||this.createEndpoint(e);return this.endpoints[e]=t,t.addListener()}setupFrequency(e){}createEndpoint(e){return new A(`${this.baseUrl}?filter=${e}`)}getWebsocketPrefix(){return"https:"==window.location.protocol?"wss":"ws"}}const T=D.getInstance();var M=T,E=Object(s["defineComponent"])({data(){return{heartbeat:{},old_heartbeat:{},valid:!1,baseUrl:null}},mounted:function(){this.startWebsocket(),this.baseUrl=""+M.baseUrl,console.log(M.baseUrl),setInterval(()=>{this.valid=this.heartbeat!=this.old_heartbeat,this.old_heartbeat=this.heartbeat},2e3)},updated:function(){},methods:{startWebsocket:function(){M.startListening("HEARTBEAT").setCallback(e=>{this.old_heartbeat=this.heartbeat,this.heartbeat=e})},setBaseUrl:function(e){M.setBaseUrl(e)}}});a("a440");E.render=_,E.__scopeId="data-v-ee2cc58c";var $=E;const F=Object(s["createVNode"])("div",{class:"row border-bottom bd-lightGray m-3"},[Object(s["createVNode"])("div",{class:"cell-md-4 d-flex flex-align-center"},[Object(s["createVNode"])("h3",{class:"dashboard-section-title text-center text-left-md w-100"}," Dashboard ")])],-1),z={class:"m-3"},W={"data-role":"panel","data-title-caption":"Attitude","data-collapsible":"true","data-title-icon":"<span class='mif-chart-line'></span>",class:"mt-4"},G={id:"attitude-div",style:{width:"100%"},class:"row m-3"},R={class:"m-3"},q={"data-role":"panel","data-title-caption":"Map","data-collapsible":"true","data-title-icon":"<span class='mif-chart-line'></span>",class:"mt-4"},H={id:"mapid",style:{width:"100%",height:"30em"}},Y={class:"row m-3"},K={class:"cell-md-7"},Q={"data-role":"panel","data-title-caption":"Power","data-collapsible":"true","data-title-icon":"<span class='mif-table'></span>",class:"mt-4"},X={class:"p-4"},Z={class:"cell-md-5"},ee={"data-role":"panel","data-title-caption":"PWM Output","data-collapsible":"true","data-title-icon":"<span class='mif-users'></span>",class:"mt-4"},te={class:"mt-6"};function ae(e,t,a,c,o,n){const i=Object(s["resolveComponent"])("Attitude"),r=Object(s["resolveComponent"])("Heading"),l=Object(s["resolveComponent"])("Map"),d=Object(s["resolveComponent"])("Plot"),p=Object(s["resolveComponent"])("Servos");return Object(s["openBlock"])(),Object(s["createBlock"])(s["Fragment"],null,[F,Object(s["createVNode"])("div",z,[Object(s["createVNode"])("div",W,[Object(s["createVNode"])("div",G,[Object(s["createVNode"])("div",null,[Object(s["createVNode"])(i,{roll:e.roll,pitch:e.pitch},null,8,["roll","pitch"])]),Object(s["createVNode"])("div",null,[Object(s["createVNode"])(r,{heading:e.yaw},null,8,["heading"])])])])]),Object(s["createVNode"])("div",R,[Object(s["createVNode"])("div",q,[Object(s["createVNode"])("div",H,[Object(s["createVNode"])(l)])])]),Object(s["createVNode"])("div",Y,[Object(s["createVNode"])("div",K,[Object(s["createVNode"])("div",Q,[Object(s["createVNode"])("div",X,[Object(s["createVNode"])(d)])])]),Object(s["createVNode"])("div",Z,[Object(s["createVNode"])("div",ee,[Object(s["createVNode"])("div",te,[Object(s["createVNode"])(p)])])])])],64)}function se(e,t,a,c,o,n){const i=Object(s["resolveComponent"])("l-tile-layer"),r=Object(s["resolveComponent"])("l-marker"),l=Object(s["resolveComponent"])("l-map");return Object(s["openBlock"])(),Object(s["createBlock"])(l,{modelValue:e.zoom,"onUpdate:modelValue":t[1]||(t[1]=t=>e.zoom=t),zoom:e.zoom,"onUpdate:zoom":t[2]||(t[2]=t=>e.zoom=t),center:e.position},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(i,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(s["createVNode"])(r,{"lat-lng":e.position},null,8,["lat-lng"])]),_:1},8,["modelValue","zoom","center"])}var ce=a("3535"),oe=(a("6cc5"),Object(s["defineComponent"])({components:{LMap:ce["LMap"],LTileLayer:ce["LTileLayer"],LMarker:ce["LMarker"]},data(){return{zoom:2,iconWidth:25,iconHeight:40,position:[27.5938477,-48.5670448]}},mounted(){M.startListening("GLOBAL_POSITION_INT").setCallback(e=>{this.position=[e.lat/1e7,e.lon/1e7]})}}));oe.render=se;var ne=oe,ie=a("c2a1");const re={id:"power-plot",style:{width:"100%",height:"100%"}};function le(e,t,a,c,o,n){return Object(s["openBlock"])(),Object(s["createBlock"])("div",re)}var de=a("ab54"),pe=Object(s["defineComponent"])({name:"Plot",data(){return{plotdata:[],plot1:null}},computed:{},watch:{},created(){const e=1e3;this.plotdata=[Array(e),Array(e),Array(e)];for(var t=0;t<e;t++)this.plotdata[0][t]=t,this.plotdata[1][t]=0,this.plotdata[2][t]=0},mounted(){setInterval(()=>{this.plot1.setSize(this.getSize())},1e3),this.setupPlot(),M.startListening("BATTERY_STATUS").setCallback(e=>{let t=0;for(let a of e.voltages)65535!=a&&(t+=a);this.updatePlot(e.message_information.counter,t/1e3,e.current_battery/100)}).setFrequency(1)},methods:{updatePlot(e,t,a){this.plotdata[0].length>1e3&&(this.plotdata[0].shift(),this.plotdata[1].shift(),this.plotdata[2].shift()),this.plotdata[0].push(this.plotdata[0][this.plotdata[0].length-1]+1),this.plotdata[1].push(t),this.plotdata[2].push(a),this.plot1.setData(this.plotdata)},getSize(){let{width:e,height:t}=document.getElementById("power-plot").getBoundingClientRect();return{width:e,height:300}},setupPlot(){const e={...this.getSize(),legend:{show:!0},scales:{x:{time:!1,auto:!0},y:{auto:!0}},series:[{scale:"",value:(e,t)=>null==t?"-":t.toFixed(1)+""},{label:"voltage",scale:"V",stroke:"green",show:!0,value:(e,t)=>null==t?"-":t.toFixed(1)+"V"},{label:"current",scale:"A",stroke:"red",show:!0,value:(e,t)=>null==t?"-":t.toFixed(1)+"A"}],axes:[{scale:"",values:(e,t)=>t.map(e=>+e.toFixed(1)+"")},{scale:"V",values:(e,t)=>t.map(e=>+e.toFixed(1)+" V")},{side:1,scale:"A",values:(e,t)=>t.map(e=>+e.toFixed(2)+" A"),grid:{show:!1}}]};this.plot1=new de["a"](e,this.plotdata,document.getElementById("power-plot"))}}});pe.render=le;var be=pe;const he={key:0,class:"clear"},ue={class:"place-left"},ve={class:"place-right"},je=Object(s["createTextVNode"])("/100% ");function fe(e,t,a,c,o,n){return Object(s["openBlock"])(!0),Object(s["createBlock"])(s["Fragment"],null,Object(s["renderList"])(e.servos,(e,t)=>(Object(s["openBlock"])(),Object(s["createBlock"])("div",{key:e+t,class:"mt-6"},[-1!=e?(Object(s["openBlock"])(),Object(s["createBlock"])("div",he,[Object(s["createVNode"])("div",ue," Output "+Object(s["toDisplayString"])(t+1),1),Object(s["createVNode"])("div",ve,[Object(s["createVNode"])("strong",null,Object(s["toDisplayString"])(e),1),je])])):Object(s["createCommentVNode"])("",!0),-1!=e?(Object(s["openBlock"])(),Object(s["createBlock"])("div",{key:1,"data-role":"progress","data-type":"buffer","data-cls-back":"bg-grayWhite","data-cls-bar":"bg-grayWhite","data-cls-buffer":"bg-pink","data-value":e,"data-buffer":e+1},null,8,["data-value","data-buffer"])):Object(s["createCommentVNode"])("",!0)]))),128)}var me=Object(s["defineComponent"])({name:"Servos",data(){return{servos:[]}},created(){},mounted(){M.startListening("SERVO_OUTPUT_RAW").setCallback(e=>{for(var t=1;t<=Object.keys(e).length-4;t++){const a=`servo${t}_raw`,s=t-1;0!=e[a]?this.servos[s]=100*(e[a]-1100)/800:this.servos[s]=-1}this.$forceUpdate()})}});me.render=fe;var Oe=me,ge=Object(s["defineComponent"])({name:"Dashboard",components:{Map:ne,Attitude:ie["a"],Heading:ie["b"],Plot:be,Servos:Oe},data(){return{plotdata:[],plot1:null,roll:0,pitch:0,yaw:0}},created(){const e=1e3;this.plotdata=[Array(e),Array(e),Array(e)];for(var t=0;t<e;t++)this.plotdata[0][t]=t,this.plotdata[1][t]=0,this.plotdata[2][t]=0},mounted(){M.startListening("ATTITUDE").setCallback(e=>{this.roll=180*e.roll/Math.PI,this.pitch=180*e.pitch/Math.PI,this.yaw=180*e.yaw/Math.PI}).setFrequency(10)}});ge.render=ae;var ye=ge;const ke=Object(s["createStaticVNode"])('<div class="row border-bottom bd-lightGray m-3"><div class="cell-md-4 d-flex flex-align-center"><h3 class="dashboard-section-title text-center text-left-md w-100"> Parameters </h3></div><div class="cell-md-8 d-flex flex-justify-center flex-justify-end-md flex-align-center"><ul class="breadcrumbs bg-transparent"><li class="page-item"><a href="#" class="page-link"><span class="mif-refresh"></span> Refresh</a></li></ul></div></div><div class="m-3"><div class=""><div class="bg-white p-6 text-center text-leader"> Vehicle parameter table <p class="text-leader2"> Some parameters require vehicle to be restarted, remember to do it if necessary. </p></div><br><div class="bg-white p-4"><div class="d-flex flex-wrap flex-nowrap-lg flex-align-center flex-justify-center flex-justify-start-lg mb-2"><div id="t1_search" class="w-100 mb-2 mb-0-lg"></div><div id="t1_rows" class="ml-2 mr-2"></div></div><table id="t1" class="table table-border cell-border" data-role="table" data-search-wrapper="#t1_search" data-rows-wrapper="#t1_rows" data-info-wrapper="#t1_info" data-pagination-wrapper="#t1_pagination" data-horizontal-scroll="true"></table><div class="d-flex flex-column flex-justify-center"><div id="t1_info"></div><div id="t1_pagination"></div></div></div></div><br></div>',2);function Ne(e,t,a,s,c,o){return ke}const Ve={};Ve.render=Ne;var we=Ve;const xe=Object(s["withScopeId"])("data-v-41b792fe");Object(s["pushScopeId"])("data-v-41b792fe");const Se=Object(s["createVNode"])("div",{class:"row border-bottom bd-lightGray m-3"},[Object(s["createVNode"])("div",{class:"cell-md-4 d-flex flex-align-center"},[Object(s["createVNode"])("h3",{class:"dashboard-section-title text-center text-left-md w-100"}," Joysticks ")])],-1),Be={key:0,class:"pos-fixed pos-center"},Ce=Object(s["createVNode"])("h2",{class:"warning"},[Object(s["createTextVNode"])(" No joystick"),Object(s["createVNode"])("br"),Object(s["createVNode"])("small",null,"Make sure that the joystick is connect, hit a key to make sure.")],-1),Ue={style:{width:"100%"},class:"mt-3"},Pe={style:{"margin-left":"1em"}},Je={class:"joystick-box"},Le=Object(s["createVNode"])("div",{class:"x-axis"},null,-1),_e=Object(s["createVNode"])("div",{class:"y-axis"},null,-1),Ie=Object(s["createVNode"])("div",{class:"circle-outline"},null,-1),Ae={class:"joystick-box"},De=Object(s["createVNode"])("div",{class:"x-axis"},null,-1),Te=Object(s["createVNode"])("div",{class:"y-axis"},null,-1),Me=Object(s["createVNode"])("div",{class:"circle-outline"},null,-1);Object(s["popScopeId"])();const Ee=xe((function(e,t,a,c,o,n){return Object(s["openBlock"])(),Object(s["createBlock"])(s["Fragment"],null,[Se,e.joysticks&&!e.joysticks.length?(Object(s["openBlock"])(),Object(s["createBlock"])("div",Be,[Ce])):Object(s["createCommentVNode"])("",!0),(Object(s["openBlock"])(!0),Object(s["createBlock"])(s["Fragment"],null,Object(s["renderList"])(e.joysticks,(e,t)=>(Object(s["openBlock"])(),Object(s["createBlock"])("div",{key:"joystick"+t,class:"m-3"},[Object(s["createVNode"])("div",{"data-role":"panel","data-title-caption":"Joystick "+t+" - "+e.id,"data-collapsible":"true","data-title-icon":"<span class='mif-gamepad'></span>",class:"mt-4"},[Object(s["createVNode"])("div",Ue,[Object(s["createVNode"])("div",null,[Object(s["createVNode"])("div",Pe,[Object(s["createVNode"])("div",Je,[Le,_e,Ie,Object(s["createVNode"])("div",{class:"joystick-position",style:{top:50*e.axes[1]+50+"%",left:50*e.axes[0]+50+"%"}},null,4)]),Object(s["createVNode"])("div",Ae,[De,Te,Me,Object(s["createVNode"])("div",{class:"joystick-position",style:{top:50*e.axes[3]+50+"%",left:50*e.axes[2]+50+"%"}},null,4)]),Object(s["createVNode"])("div",null,[(Object(s["openBlock"])(!0),Object(s["createBlock"])(s["Fragment"],null,Object(s["renderList"])(e.buttons,(e,t)=>(Object(s["openBlock"])(),Object(s["createBlock"])("button",{class:"button "+(e.pressed?"primary":"outline")+" mt-1",key:"button"+t}," Button "+Object(s["toDisplayString"])(t),3))),128))])])])])],8,["data-title-caption"])]))),128))],64)}));var $e,Fe,ze=a("ccc4");(function(e){e["Unknown"]="unknown",e["Connected"]="connected",e["Disconnected"]="disconnected",e["Axis"]="axis",e["Button"]="button"})($e||($e={})),function(e){let t,a;(function(e){e[e["Left"]=0]="Left",e[e["Right"]=1]="Right"})(t=e.Stick||(e.Stick={})),function(e){e[e["Horizontal"]=0]="Horizontal",e[e["Vertical"]=1]="Vertical"}(a=e.Axis||(e.Axis={}))}(Fe||(Fe={})),function(e){function t(){return Object.keys(e).map(e=>e.toLowerCase())}function a(t){const a=t.split(":");if(a.length<=1)return e.Unknown;const s=a[1];for(const c of e.events())if(c==s)return c;return e.Unknown}e.events=t,e.fromGamepadEventType=a}($e||($e={}));class We{constructor(){this.callbacksJoystick=[],this.callbacksJoystickState=[],this.gamepadListener=new ze["GamepadListener"],this.joysticks=[],this.gamepadListener.start(),this.connectEvents()}static self(){return We.instance}onJoystickUpdate(e){this.callbacksJoystick.push(e)}processJoystickUpdate(e){const t=e.detail.index;if(t<0)throw console.log(`index: ${t}, length:${this.joysticks.length}`),console.log(`event: ${JSON.stringify(e)}, joysticks: ${JSON.stringify(this.joysticks)}`),new Error("Invalid joystick index.");if(t>this.joysticks.length)throw console.log(`index: ${t}, length:${this.joysticks.length}`),console.log(`event: ${JSON.stringify(e)}, joysticks: ${JSON.stringify(this.joysticks)}`),new Error("Connected joystick index is beyond the number of joysticks connected.");let a=!0;if(t<this.joysticks.length&&(a=!1,console.log(`index: ${t}, length:${this.joysticks.length}`),console.log(`event: ${JSON.stringify(e)}, joysticks: ${JSON.stringify(this.joysticks)}`),console.warn("Connected index is below the number of joysticks connected")),e.type==$e.Connected){const s=e.detail.gamepad;a?this.joysticks.push(s):this.joysticks[t]=s}else this.joysticks.splice(t,1);for(const s of this.callbacksJoystick)s(this.joysticks)}onJoystickStateUpdate(e){this.callbacksJoystickState.push(e)}connectEvents(){for(const e of $e.events())this.gamepadListener.on("gamepad:"+e,t=>{const a=t;a.type=$e.fromGamepadEventType(a.type);for(const e of this.callbacksJoystickState)e(a);e!=$e.Connected&&e!=$e.Disconnected||this.processJoystickUpdate(a)})}}We.instance=new We;const Ge=We.self();var Re=Object(s["defineComponent"])({name:"Joystick",data(){return{joysticks:[]}},created(){Ge.onJoystickUpdate(e=>{this.proccessJoystickEvent(e)}),Ge.onJoystickStateUpdate(e=>{this.proccessJoystickStateEvent(e)})},methods:{proccessJoystickEvent(e){this.joysticks=e},proccessJoystickStateEvent(e){this.joysticks[e.detail.index]=e.detail.gamepad}}});a("d7c7");Re.render=Ee,Re.__scopeId="data-v-41b792fe";var qe=Re,He=Object(s["defineComponent"])({name:"App",components:{NavBar:$,DashBoard:ye,Parameters:we,Joystick:qe},data(){return{page:"DashBoard"}},methods:{setPage(e){this.page=e}}});a("64be");He.render=V;var Ye=He;Object(s["createApp"])(Ye).mount("#app");t["default"]=Ye;"serviceWorker"in navigator&&navigator.serviceWorker.register("service-worker.js").then((function(){console.log("Service Worker Registered.")}))},d7c7:function(e,t,a){"use strict";a("7a42")}});
//# sourceMappingURL=app.b9bed62a.js.map